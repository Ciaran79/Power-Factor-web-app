<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Power Factor Web App</title>
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"
        crossorigin="anonymous">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

</head>

<body>

    <header>
        <h1 id='frontTitle'>The Power Factor Weight Training Web App
            <i class="fa fa-anchor"></i>
        </h1>

    </header>


    <main class="container-fluid">


        <!-- <div id="admincontrols" class="row">
            <div class="col">
                <button id="view-session" onclick="showSession('login-message-area')">
                    Show session user
                </button>
            </div>

                <div class="col">
                    <input type="text " class="login-message-area" id="login-message-area" placeholder="" name="login-message-area">
                </div>
        </div> -->

        <h6>Just want see how it works? Login with the test user account.
            <br> User email: user@test.com
            <br> password: password
            <br>
        </h6>
        <div class="text-center">
            <!-- logged in display -->
            <label for="login-name-area">
                <b>Logged in as:</b>
            </label>
            <input type="text" class="login-name-area" id="login-name-area" placeholder="username area" name="login-name-area" readonly>
        </div>

        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Home</a>
            </li>

            <li class="nav-item">
                <a class="nav-link" id="previous-workouts-tab" data-toggle="tab" href="#previous-workouts" role="tab" aria-controls="previous-workouts" aria-selected="true">Previous Workouts</a>
            </li>

            <li class="nav-item">
                <a class="nav-link" id="what-is-pf-tab" data-toggle="tab" href="#what-is-pf" role="tab" aria-controls="what-is-pf" aria-selected="false">What is Power Factor training?</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="register-pf-tab" data-toggle="tab" href="#register-pf" role="tab" aria-controls="register-pf" aria-selected="false">Login/Register</a>
            </li>
           
        </ul>
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">

                <div class="p-2"></div>


                <div id="event-message" class="text-center"></div>

                <div class="p-2"></div>
                <h3 class="text-center">Timer</h3>
                <div id="timer-area">
                    <div id="countdown-area" class="text-center">
                        <label for="countdown-duration">Countdown duration (seconds):</label>
                        <br>
                        <input type="number" id="countdown-duration" value="130">
                    </div>


                    <div class="p-2"></div>

                    <!-- Display the countdown timer in an element -->
                    <h1 id="timer-display" class="text-center">0</h1>
                    <div class="p-2"></div>

                    <button id="timer-button" class="btn btn-primary btn-block" onclick="startStopCountdown('start')">Start timer</button>
                </div>


                <div class="p-2"></div>

                <!-- Workout Section -->
                <div>
                    <h3 class="text-center">Record new workout results</h3>
                </div>

                <form id="results-form">
                    <div class="row">
                        <div class="col-sm text-center">
                            <label for="workout-type">Choose Workout:</label>
                            <br>
                            <select id="workout-type" class="btn-block" name="workout">
                                <option value="shoulders">Shoulders</option>
                                <option value="traps">Traps</option>
                                <option value="triceps">Triceps</option>
                                <option value="biceps">Biceps</option>
                                <option value="abs">Abs</option>
                                <option value="lowerback">Lower Back</option>
                                <option value="widegripchest">Wide Grip Chest</option>
                                <option value="upperback">Upper Back</option>
                                <option value="thighs">Thighs</option>
                                <option value="calves">Calves</option>
                            </select>
                        </div>

                        <div class="col-sm text-center">
                            <label for="date-selector">Workout date: </label>
                            <br>
                            <input type="date" id="date-selector" class="text-center btn-block" name="date">
                        </div>
                    </div>

                    <div class="p-2"></div>

                    <div class="row">
                        <div class="col-sm">
                            <input id="weight-input" class="btn-block input-boxes" type="number" placeholder="Weight" name="weight">
                        </div>
                        <div class="col-sm">
                            <input id="reps-input" class="btn-block input-boxes" type="number" placeholder="Reps" name="reps">
                        </div>
                        <div class="col-sm">
                            <input id="time-input" class="btn-block input-boxes" type="number" placeholder="Time" name="time">
                        </div>
                        <div class="col-sm">
                            <input id="pfresult" class="btn-block input-boxes" type="number" placeholder="results" name="pfresult" readonly>
                        </div>
                    </div>



                    <div class="row">
                        <div class="col">
                            <button id="reset" class="btn btn-block btn-dark buttons" type="reset">Clear</button>
                        </div>

                       

                        <div class="col">
                            <button type="button" id="calculate-power-factor" class="btn btn-block btn-primary buttons">Calculate Power Factor</button>
                        </div>

                        <div class="col">
                            <input id="saveData" class="btn btn-block btn-success buttons" type="submit" value="Save results">
                        </div>



                    </div>
                </form>



                <div class="p-3"></div>

               

            </div>

            <div class="tab-pane fade" id="previous-workouts" role="tabpanel" aria-labelledby="previous-workouts-tab">
                <div class="p-3"></div>
                <h3 class="text-center">Previous Workouts</h3>
                <div class="p-3"></div>
              <!-- Previous results Section -->

              <h3 class="text-center">See previous workout results</h3>

              <form id="old-data">
                  <div class="row">
                      <div class="col-sm">
                          <label for="login-name-area-two">Logged in as: </label>
                          <br>
                          <input type="text " id="login-name-area-two" class="btn-block" placeholder="username" name="login-name-area-two" readonly>
                      </div>


                      <div class="col-sm">
                          <label for="workout-old">Choose workout</label>
                          <br>
                          <select id="workout-old" class="btn-block" name="workout-old">
                              <option value="shoulders">Shoulders</option>
                              <option value="traps">Traps</option>
                              <option value="triceps">Triceps</option>
                              <option value="biceps">Biceps</option>
                              <option value="abs">Abs</option>
                              <option value="lowerback">Lower Back</option>
                              <option value="widegripchest">Wide Grip Chest</option>
                              <option value="upperback">Upper Back</option>
                              <option value="thighs">Thighs</option>
                              <option value="calves">Calves</option>
                          </select>
                      </div>
                  </div>
                  <div class="row">

                      <div class="col-sm">
                          <button id="clear-list" class="btn btn-block btn-dark buttons" type="button" onclick="clearList()">Clear List</button>
                      </div>
                      <div class="col-sm">
                          <input type="submit" id="show-data" class="btn btn-block btn-primary buttons" value="See Previous Results">
                      </div>

                  </div>
                  <div name="previous-results" id="previous-results"></div>
              </form>
            </div>

            <div class="tab-pane fade" id="what-is-pf" role="tabpanel" aria-labelledby="what-is-pf-tab">
                <div class="p-3"></div>
                <h3 class="text-center">What is Powerfactor training?</h3>
                <div class="p-3"></div>
                <p id="aboutpf">
                </p>
            </div>

            <div class="tab-pane fade" id="register-pf" role="tabpanel" aria-labelledby="register-pf">
                <div class="p-3"></div>

                <div class="col-sm">

                    <!-- Login Section Form-->
                    <h3 class="text-center">Login</h3>
                    <form id="login-form">
                        <div class="row">
                            <div class="col-sm">
                                <label for="user">User Email:</label>
                                <input type="email" id="user" class="btn-block" placeholder="user" name="user" required>
                            </div>
                            <div class="col-sm">
                                <label for="password">Password:</label>
                                <input type="password" id="password" class="btn-block" placeholder="password" name="password" required>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm">
                                <button type="button" id="logout-button" class="btn btn-block btn-dark buttons">Log Out</button>
                            </div>
                            <div class="col-sm">
                                <button type="submit" id="login-button" class="btn btn-block btn-success buttons">Log in</button>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="p-3"></div>

                <h3 class="text-center">Register</h3>
                <!-- Register Form -->
                <div class="col-sm ">
                    <form id="register-form">
                        <div class="row">
                            <div class="col-sm ">
                                <label for="userreg">User Email:</label>
                                <input type="email" id="userreg" class="btn-block" placeholder="user" name="userreg" required>
                            </div>
                            <div class="col-sm">
                                <label for="passwordreg">Password:</label>
                                <input type="password" id="passwordreg" class="btn-block" placeholder="password" name="passwordreg" required>
                                <label for="passwordreg2">Retype Password:</label>
                                <input type="password" id="passwordreg2" class="btn-block" placeholder="retype password" name="passwordreg2" required>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm  ">
                                <button type="submit" id="register-button" class="btn btn-block btn-success buttons">Register</button>
                                <div id="reg-message" class="col-sm "></div>
                            </div>


                        </div>

                    </form>
                </div>

            </div>

           

        </div>

    </main>

    <footer>
        <script src="scripts.js"></script>
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
            crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1"
            crossorigin="anonymous"></script>


        <script>
            Date.prototype.toDateInputValue = (function () {
                var local = new Date(this);
                local.setMinutes(this.getMinutes() - this.getTimezoneOffset());
                return local.toJSON().slice(0, 10);
            });
            document.getElementById('date-selector').value = new Date().toDateInputValue();
        </script>

        <script>
            showSession('login-name-area', 'login-name-area-two');
            getText('aboutpf.html', 'aboutpf');

            document.getElementById('login-form').addEventListener('submit', ajaxlogin);
            document.getElementById('logout-button').addEventListener('click', ajaxLogOut);
            document.getElementById('register-form').addEventListener('submit', ajaxRegisterUser);
            document.getElementById('calculate-power-factor').addEventListener('click', calculatePf);
            document.getElementById('results-form').addEventListener('submit', ajaxSaveResultsToDatabase);
            document.getElementById('old-data').addEventListener('submit', ajaxGetPreviousResults);
        </script>

    </footer>
</body>

</html>